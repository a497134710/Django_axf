$(function () {    //总计    total()    var status = false    $('.confirm-wrapper span').click(function () { //单选        status = !status        if (status){            $(this).removeClass().addClass("no")        }        else {            $(this).removeClass().addClass("glyphicon glyphicon-ok  ")        }        var  cartid = $(this).parent().attr("cartid")        $.get("/isselect/",{"status":status,"cartid":cartid},function (response) {            console.log(response)        })        total()    })    var all = false    $('.all span').click(function () {  //全选        all = !all        if (all){            $(this).attr("class",'glyphicon glyphicon-ok')            $('.confirm-wrapper span').attr("class","glyphicon glyphicon-ok")        }        else {           $(this).attr("class",'no')            $('.confirm-wrapper span').attr("class","no")        }        $.get("/isall/",{"all":all},function (response) {        })        total()    })    // 结算        // 计算总数    function total() {        var sum = 0        // 遍历        $('.goods').each(function () { //遍历每一个li 让价格相加            var $confirm = $(this).find('.confirm-wrapper')            var $content = $(this).find('.content-wrapper')            // 选中，才计算            if ($confirm.find('.glyphicon-ok').length){                var price = parseInt($content.find('.price').attr('str'))                var num = parseInt($content.find('.num').attr('str'))                sum += num * price            }        })        // 修改总计 显示        $('.bill .total b').html(sum)    }    $('#generate-order').click(function () {        $.get('/order/',function (response) {                if (response["status"] == 1 ){                    var  orderid = response["orderid"]                    window.open("/ordermain/?orderid="+orderid,target ='_self')                }            })    })})